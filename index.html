<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>momo 的公告站</title>
  <style>
    :root{
      --bg1:#fdfdff; --bg2:#f1f5ff; --text:#0f172a; --muted:#6b7280; --brand:#4a90e2;
      --card-1:#ffffff; --card-2:#f3f7ff; --card-2-border:#e1ecff;
      --announce-bg:#fff7d6; --announce-text:#664d00;
      --glass-bg:rgba(255,255,255,0.7);
    }
    *{box-sizing:border-box}
    body{
      font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;
      margin:0;
      color:var(--text);
      background:linear-gradient(180deg,var(--bg1),var(--bg2));
      overflow-x:hidden;
      min-height:100vh;
      position:relative;
    }
    body::before{
      content:"";
      position:fixed;
      inset:0;
      background:radial-gradient(circle at 10% 20%,rgba(74,144,226,0.18),transparent 50%),radial-gradient(circle at 80% 0%,rgba(94,129,255,0.22),transparent 55%),radial-gradient(circle at 20% 90%,rgba(255,214,102,0.15),transparent 60%);
      z-index:-4;
      pointer-events:none;
    }
    html{scroll-behavior:smooth}

    /* ===== 科技感动态网格（HUD） ===== */
    .grid-bg, .grid-bg::before, .grid-bg::after{position:fixed;inset:0;pointer-events:none}
    .grid-bg::before, .grid-bg::after{content:"";z-index:-2;background-size:40px 40px,40px 40px;background-image:linear-gradient(rgba(0,0,0,.06) 1px,transparent 1px),linear-gradient(90deg, rgba(0,0,0,.06) 1px,transparent 1px);animation:gridMove 20s linear infinite}
    .grid-bg::after{z-index:-1;opacity:.25;filter:blur(1px);animation-direction:reverse}
    @keyframes gridMove{from{background-position:0 0,0 0}to{background-position:40px 40px,40px 40px}}

    /* 背景粒子 Canvas 层 */
    #bgParticles{position:fixed;inset:0;z-index:-3;pointer-events:none}

    .page-shell{width:min(960px,100%);margin:0 auto;padding:0 1.5rem 3.5rem;position:relative;z-index:1}
    header{
      background:linear-gradient(135deg,rgba(74,144,226,0.92),rgba(53,101,208,0.96));
      color:#fff;
      text-align:center;
      padding:2.5rem 1rem 2rem;
      animation:fadeInDown 1s;
      position:relative;
      overflow:hidden;
    }
    header::after{
      content:"";
      position:absolute;
      width:420px;
      height:420px;
      background:radial-gradient(circle at center,rgba(255,255,255,0.28),rgba(255,255,255,0));
      top:-220px;
      right:-160px;
      filter:blur(0.5px);
      opacity:0.8;
    }
    .header-inner{width:min(960px,100%);margin:0 auto;position:relative;z-index:1}
    header img.avatar{
      width:94px;
      height:94px;
      border-radius:50%;
      display:block;
      margin:0 auto 14px;
      box-shadow:0 12px 30px rgba(17,24,39,0.25);
      border:3px solid rgba(255,255,255,0.55);
    }
    header h1{margin:0;font-size:2rem;letter-spacing:0.02em}
    header p{margin:0;font-size:1rem}

    /* 滚动公告条 */
    .announcement{position:relative;margin:1.5rem 0;background:var(--glass-bg);color:var(--announce-text);border-radius:14px;box-shadow:0 12px 35px rgba(15,23,42,0.08);overflow:hidden;padding:0.75rem 0;backdrop-filter:blur(18px);border:1px solid rgba(255,214,102,0.35)}
    .announcement::before,.announcement::after{content:"";position:absolute;top:0;bottom:0;width:70px;pointer-events:none;z-index:2}
    .announcement::before{left:0;background:linear-gradient(90deg,var(--announce-bg),rgba(255,247,214,0))}
    .announcement::after{right:0;background:linear-gradient(270deg,var(--announce-bg),rgba(255,247,214,0))}
    .announcement .marquee{display:flex;gap:3.5rem;white-space:nowrap;padding:0 2.5rem;animation:scrollX 18s linear infinite;font-weight:500;letter-spacing:0.01em}
    .announcement:hover .marquee{animation-play-state:paused}
    .announcement .item{font-size:.95rem;position:relative}

    main{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1.5rem;padding:0;margin:0}
    .card{
      position:relative;
      background:var(--glass-bg);
      border:1px solid rgba(74,144,226,0.18);
      border-radius:18px;
      box-shadow:0 18px 40px rgba(15,23,42,0.12);
      padding:1.5rem 1.6rem;
      transition:transform .35s ease, box-shadow .35s ease, border-color .35s ease;
      animation:fadeInUp 0.9s ease;
      backdrop-filter:blur(18px);
      --float-offset:0px;
      transform:translate3d(0,var(--float-offset),0);
    }
    .card::after{
      content:"";
      position:absolute;
      inset:0;
      border-radius:inherit;
      border:1px solid rgba(255,255,255,0.55);
      opacity:0;
      transition:opacity .35s ease;
      pointer-events:none;
    }
    .card.alt{background:rgba(243,247,255,0.85);border-color:var(--card-2-border)}
    .card:hover{
      transform:translate3d(0,calc(var(--float-offset) - 6px),0);
      box-shadow:0 26px 60px rgba(49,132,255,0.22);
      border-color:rgba(74,144,226,0.35);
    }
    .card:hover::after{opacity:1}
    .card h2{font-size:1.2rem;margin:0 0 .9rem 0;letter-spacing:0.01em;color:#111827}

    .group{text-align:center;margin:0}
    .group img{width:100%;border-radius:16px;cursor:pointer;transition:transform .35s ease, box-shadow .35s ease, filter .35s ease;box-shadow:0 18px 36px rgba(15,23,42,0.12)}
    .group img:hover{transform:scale(1.02);box-shadow:0 26px 48px rgba(17,24,39,0.18);filter:brightness(1.02)}
    .group p{margin:1rem 0 0;font-size:1rem;font-weight:500;color:#1f2937}

    .copy-btn{
      margin-top:.9rem;
      padding:.65rem 1.1rem;
      border:none;
      border-radius:999px;
      background:linear-gradient(135deg,var(--brand),#3c7bd1);
      color:#fff;
      cursor:pointer;
      font-size:.92rem;
      display:inline-flex;
      align-items:center;
      gap:.35rem;
      box-shadow:0 14px 28px rgba(58,123,213,0.26);
      transition:transform .25s ease, box-shadow .25s ease;
    }
    .copy-btn::before{content:"📋";font-size:1rem}
    .copy-btn:hover{transform:translateY(-2px);box-shadow:0 18px 34px rgba(58,123,213,0.35)}
    .copy-btn:focus-visible{outline:3px solid rgba(74,144,226,0.45);outline-offset:4px}
    .muted{color:var(--muted)}

    footer{background:rgba(238,242,247,0.85);backdrop-filter:blur(12px);padding:2.2rem 1rem 2.6rem;margin-top:auto}
    .footer-inner{width:min(960px,100%);margin:0 auto;text-align:center;font-size:.95rem;color:var(--muted);line-height:1.7}
    #visitor-count{font-weight:600}

    /* Animations */
    @keyframes fadeInUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
    @keyframes fadeInDown{from{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}
    @keyframes scrollX{from{transform:translateX(0)}to{transform:translateX(-50%)}}

    /* 返回顶部按钮 */
    #toTop{
      position:fixed;
      right:18px;
      bottom:22px;
      opacity:0;
      transform:translateY(12px);
      transition:all .25s;
      pointer-events:none;
      border:0;
      border-radius:999px;
      background:rgba(17,24,39,0.85);
      color:#fff;
      padding:.65rem .95rem;
      box-shadow:0 14px 34px rgba(15,23,42,0.28);
      font-size:1.15rem;
      backdrop-filter:blur(6px);
    }
    #toTop.show{opacity:1;transform:none;pointer-events:auto}

    .modal{
      position:fixed;
      inset:0;
      background:rgba(8,18,46,0.72);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:1000;
      padding:2rem;
      backdrop-filter:blur(10px);
      animation:fadeIn .25s ease;
    }
    .modal img{
      max-width:min(480px,90vw);
      max-height:80vh;
      width:100%;
      border-radius:20px;
      box-shadow:0 28px 70px rgba(10,21,52,0.45);
      background:#fff;
      padding:1.2rem;
      object-fit:contain;
      transform:scale(0.95);
      animation:modalIn .35s ease forwards;
    }

    @keyframes fadeIn{from{opacity:0}to{opacity:1}}
    @keyframes modalIn{from{transform:scale(0.92);opacity:0}to{transform:scale(1);opacity:1}}

    @media (max-width:720px){
      header{padding:2.1rem 1rem 1.7rem}
      header h1{font-size:1.75rem}
      .announcement{margin:1.25rem 0}
      .page-shell{padding:0 1.25rem 3rem}
      main{gap:1.25rem}
    }

    @media (max-width:480px){
      .announcement .marquee{gap:2rem;padding:0 1.75rem;font-size:.92rem}
      .group img{border-radius:14px}
      .copy-btn{width:100%;justify-content:center}
    }

    @media (prefers-reduced-motion:reduce){
      *,*::before,*::after{animation-duration:0.01ms!important;animation-iteration-count:1!important;transition-duration:0.01ms!important;scroll-behavior:auto!important}
      .announcement .marquee{animation:none}
    }
  </style>
</head>
<body>
  <!-- 背景层：粒子 Canvas + 动态网格 -->
  <canvas id="bgParticles"></canvas>
  <div class="grid-bg"></div>

  <header>
    <div class="header-inner">
      <img class="avatar" src="f0ed53658b736f373e3052c69b01655f.jpg" alt="头像" />
      <h1>momo 的公告站</h1>
      <p class="muted" style="color:#e9f2ff">欢迎加入群聊，一起交流</p>
    </div>
  </header>

  <div class="page-shell">
    <!-- 滚动公告 -->
    <div class="announcement">
      <div class="marquee" id="marquee">
        <div class="item">📢 最新公告：主群异常或满员时，请加备用群（QQ群二）。</div>
        <div class="item">📌 温馨提示：二维码可点击放大，手机扫码更方便。</div>
        <div class="item">🕒 更新时间：2025-09-30</div>
      </div>
    </div>

    <main>
      <div class="card" data-float="1">
        <h2>QQ群一</h2>
        <div class="group">
          <img src="f1800e1d0b82e37b236ea1e53ef6e8b0.jpg" alt="群一二维码" onclick="enlarge(this.src)">
          <p>群号：<span id="qq1">1045782472</span></p>
          <button class="copy-btn" onclick="copyText('qq1')">复制群号</button>
        </div>
      </div>

      <div class="card alt" data-float="2">
        <h2>QQ群二（备用）</h2>
        <div class="group">
          <img src="71fa71204f04d2d0faa3e21920074e18.jpg" alt="群二（备用）二维码" onclick="enlarge(this.src)">
          <p>群号：<span id="qq2">897570895</span></p>
          <button class="copy-btn" onclick="copyText('qq2')">复制群号</button>
        </div>
      </div>
    </main>
  </div>

  <footer>
    <div class="footer-inner">
      <p>📧 联系方式：<a href="mailto:stillplum@qq.com">stillplum@qq.com</a></p>
      <p>最后更新：2025-10-27</p>
      <p>访客：PV <span id="busuanzi_value_site_pv">--</span> ｜ UV <span id="busuanzi_value_site_uv">--</span>（若加载失败将回退为本地计数：<span id="visitor-count">0</span></p>
      <p>© 2025 momo</p>
    </div>
  </footer>

  <button id="toTop" onclick="window.scrollTo({top:0,behavior:'smooth'})">⬆️</button>

  <!-- Modal for enlarged QR -->
  <div class="modal" id="qrModal" role="dialog" aria-modal="true" aria-label="二维码预览" onclick="this.style.display='none'">
    <img id="qrImg" src="" alt="放大二维码">
  </div>

  <!-- 实时访问统计（Busuanzi） -->
  <script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script>

  <script>
    function copyText(id){const t=document.getElementById(id).innerText;navigator.clipboard.writeText(t).then(()=>alert('已复制群号：'+t)).catch(()=>prompt('复制失败，请手动复制：', t));}
    function enlarge(src){document.getElementById('qrImg').src=src;document.getElementById('qrModal').style.display='flex';}

    // 公告无缝滚动
    (function(){const mq=document.getElementById('marquee');mq.innerHTML=mq.innerHTML+mq.innerHTML;})();

    // 返回顶部显示逻辑
    const toTop=document.getElementById('toTop');
    window.addEventListener('scroll',()=>{toTop.classList.toggle('show',window.scrollY>300);});

    // 卡片浮动（滚动视差）
    const floats=document.querySelectorAll('[data-float]');
    const prefersReduce=window.matchMedia('(prefers-reduced-motion: reduce)');
    function updateFloat(){
      if(prefersReduce.matches){
        floats.forEach(el=>el.style.setProperty('--float-offset','0px'));
        return;
      }
      const y=window.scrollY;
      floats.forEach((el,i)=>{
        const depth=(i%2?1.2:1)*0.04;
        const offset=Math.sin((y/140)+(i*0.8))*10*depth;
        el.style.setProperty('--float-offset',`${offset.toFixed(2)}px`);
      });
    }
    window.addEventListener('scroll',updateFloat,{passive:true});
    if(typeof prefersReduce.addEventListener==='function'){
      prefersReduce.addEventListener('change',updateFloat);
    } else if(typeof prefersReduce.addListener==='function'){
      prefersReduce.addListener(updateFloat);
    }
    updateFloat();

    // 粒子背景（轻量）
    const c=document.getElementById('bgParticles');
    const ctx=c.getContext('2d');
    function resize(){c.width=window.innerWidth; c.height=window.innerHeight}
    window.addEventListener('resize',resize); resize();
    const N=60, parts=[];
    for(let i=0;i<N;i++){parts.push({x:Math.random()*c.width,y:Math.random()*c.height,vx:(Math.random()-0.5)*0.2,vy:(Math.random()-0.5)*0.2,r:Math.random()*1.4+0.6});}
    function step(){ctx.clearRect(0,0,c.width,c.height); ctx.fillStyle='rgba(30,90,200,0.35)'; ctx.strokeStyle='rgba(30,90,200,0.15)';
      for(const p of parts){p.x+=p.vx; p.y+=p.vy; if(p.x<0||p.x>c.width) p.vx*=-1; if(p.y<0||p.y>c.height) p.vy*=-1; ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill();}
      // 连接近邻
      for(let i=0;i<N;i++) for(let j=i+1;j<N;j++){const a=parts[i],b=parts[j]; const dx=a.x-b.x, dy=a.y-b.y; const d=Math.hypot(dx,dy); if(d<100){ ctx.globalAlpha=(100-d)/300; ctx.beginPath(); ctx.moveTo(a.x,a.y); ctx.lineTo(b.x,b.y); ctx.stroke(); ctx.globalAlpha=1; }}
      requestAnimationFrame(step);
    }
    step();

    // 统计回退：如果 3 秒后 Busuanzi 仍未填充，则用本地计数
    setTimeout(()=>{
      const pv=document.getElementById('busuanzi_value_site_pv');
      if(pv && (pv.innerText==='--' || pv.innerText==='')){
        let count=Number(localStorage.getItem('visitorCount')||0)+1; localStorage.setItem('visitorCount',count);
        document.getElementById('visitor-count').innerText=count;
      } else {
        document.getElementById('visitor-count').parentElement.style.display='none';
      }
    },3000);
  </script>
</body>
</html>
